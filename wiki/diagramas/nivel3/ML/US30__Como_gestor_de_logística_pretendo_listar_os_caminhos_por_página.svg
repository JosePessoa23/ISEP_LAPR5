<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="679px" preserveAspectRatio="none" style="width:1708px;height:679px;background:#FAFDFF;" version="1.1" viewBox="0 0 1708 679" width="1708px" zoomAndPan="magnify"><defs/><g><rect fill="#FAFDFF" height="27.6094" style="stroke:#00000000;stroke-width:1.0;" width="507" x="602.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="497" x="607.25" y="29.5332">US30: Como gestor de logística pretendo listar os caminhos por página</text><rect fill="#C2F0FF" height="457.2188" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="71.5" y="131.2188"/><rect fill="#C2F0FF" height="425.8672" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="489.5" y="153.5703"/><rect fill="#C2F0FF" height="365.1641" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="699.5" y="183.9219"/><rect fill="#C2F0FF" height="60.3516" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="822" y="360.6797"/><rect fill="#C2F0FF" height="304.4609" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1045" y="214.2734"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1146.5" y="391.0313"/><rect fill="#C2F0FF" height="60.3516" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1274" y="244.625"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1505" y="274.9766"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1627.5" y="451.3828"/><rect height="169.4063" style="stroke:#082642;stroke-width:1.5;fill:none;" width="937.5" x="765" y="319.9766"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="76" x2="76" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="494.5" x2="494.5" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="704" x2="704" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="827" x2="827" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1050" x2="1050" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1151" x2="1151" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1279" x2="1279" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1509.5" x2="1509.5" y1="121.2188" y2="597.4375"/><line style="stroke:#1E90FF;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1632.5" x2="1632.5" y1="121.2188" y2="597.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137" x="5" y="118.1426">Gestor de Logística</text><ellipse cx="76.5" cy="52.1094" fill="#C2F0FF" rx="8" ry="8" style="stroke:#1E90FF;stroke-width:0.5;"/><path d="M76.5,60.1094 L76.5,87.1094 M63.5,68.1094 L89.5,68.1094 M76.5,87.1094 L63.5,102.1094 M76.5,87.1094 L89.5,102.1094 " fill="none" style="stroke:#1E90FF;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137" x="5" y="610.9707">Gestor de Logística</text><ellipse cx="76.5" cy="622.5469" fill="#C2F0FF" rx="8" ry="8" style="stroke:#1E90FF;stroke-width:0.5;"/><path d="M76.5,630.5469 L76.5,657.5469 M63.5,638.5469 L89.5,638.5469 M76.5,657.5469 L63.5,672.5469 M76.5,657.5469 L89.5,672.5469 " fill="none" style="stroke:#1E90FF;stroke-width:0.5;"/><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="92" x="448.5" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="455.5" y="110.1426">:RotaRoute</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="92" x="448.5" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="455.5" y="617.9707">:RotaRoute</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="121" x="644" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107" x="651" y="110.1426">:RotaController</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="121" x="644" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107" x="651" y="617.9707">:RotaController</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="104" x="775" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="782" y="110.1426">:RotaMapper</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="104" x="775" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="782" y="617.9707">:RotaMapper</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="104" x="998" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1005" y="110.1426">:RotaService</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="104" x="998" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1005" y="617.9707">:RotaService</text><rect fill="#1E90FF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="79" x="1112" y="71"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="1123" y="92.5332">rotaDTO</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65" x="1119" y="110.1426">:RotaDTO</text><rect fill="#1E90FF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="79" x="1112" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="1123" y="617.9707">rotaDTO</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65" x="1119" y="635.5801">:RotaDTO</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="126" x="1216" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1223" y="110.1426">:RotaRepository</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="126" x="1216" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1223" y="617.9707">:RotaRepository</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="105" x="1457.5" y="88.6094"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="1464.5" y="110.1426">:RotaSchema</text><rect fill="#1E90FF" height="31.6094" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="105" x="1457.5" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="1464.5" y="617.9707">:RotaSchema</text><rect fill="#1E90FF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="120" x="1572.5" y="71"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1587.5" y="92.5332">listRotasDTO</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="1579.5" y="110.1426">:List&lt;RotaDTO&gt;</text><rect fill="#1E90FF" height="49.2188" rx="2.5" ry="2.5" style="stroke:#1E90FF;stroke-width:0.5;" width="120" x="1572.5" y="596.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1587.5" y="617.9707">listRotasDTO</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="1579.5" y="635.5801">:List&lt;RotaDTO&gt;</text><rect fill="#C2F0FF" height="457.2188" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="71.5" y="131.2188"/><rect fill="#C2F0FF" height="425.8672" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="489.5" y="153.5703"/><rect fill="#C2F0FF" height="365.1641" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="699.5" y="183.9219"/><rect fill="#C2F0FF" height="60.3516" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="822" y="360.6797"/><rect fill="#C2F0FF" height="304.4609" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1045" y="214.2734"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1146.5" y="391.0313"/><rect fill="#C2F0FF" height="60.3516" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1274" y="244.625"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1505" y="274.9766"/><rect fill="#C2F0FF" height="30" style="stroke:#1E90FF;stroke-width:1.0;" width="10" x="1627.5" y="451.3828"/><polygon fill="#1E90FF" points="477.5,149.5703,487.5,153.5703,477.5,157.5703,481.5,153.5703" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="81.5" x2="483.5" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="225.5" y="148.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="236.5" y="148.7139">HTTP request (get)</text><polygon fill="#1E90FF" points="687.5,179.9219,697.5,183.9219,687.5,187.9219,691.5,183.9219" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="499.5" x2="693.5" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="509" y="179.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="520" y="179.0654">getRotaPagina(req, res, next)</text><polygon fill="#1E90FF" points="1033,210.2734,1043,214.2734,1033,218.2734,1037,214.2734" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="709.5" x2="1039" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="806.25" y="209.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="817.25" y="209.417">getRotaPagina(pagina)</text><polygon fill="#1E90FF" points="1262,240.625,1272,244.625,1262,248.625,1266,244.625" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="1055" x2="1268" y1="244.625" y2="244.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1064.5" y="239.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1075.5" y="239.7686">listRotas = findByPagina(pagina)</text><polygon fill="#1E90FF" points="1493,270.9766,1503,274.9766,1493,278.9766,1497,274.9766" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="1284" x2="1499" y1="274.9766" y2="274.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1293.5" y="270.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1304.5" y="270.1201">find(query).limit(5).skip(5*(pag-1))</text><path d="M765,319.9766 L838,319.9766 L838,328.3281 L828,338.3281 L765,338.3281 L765,319.9766 " fill="#C2F0FF" style="stroke:#082642;stroke-width:1.5;"/><rect fill="none" height="169.4063" style="stroke:#082642;stroke-width:1.5;" width="937.5" x="765" y="319.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="780" y="334.4717">loop</text><a href="listRotas" target="_top" title="listRotas" xlink:actuate="onRequest" xlink:href="listRotas" xlink:show="new" xlink:title="listRotas" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="48" x="853" y="333.3955">listRotas</text></a><polygon fill="#1E90FF" points="843,356.6797,833,360.6797,843,364.6797,839,360.6797" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="837" x2="1044" y1="360.6797" y2="360.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="841.5" y="355.8232">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="852.5" y="355.8232">rotaDTO = createRotaDTO(rota)</text><polygon fill="#1E90FF" points="1134.5,387.0313,1144.5,391.0313,1134.5,395.0313,1138.5,391.0313" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="832" x2="1140.5" y1="391.0313" y2="391.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="961.75" y="386.1748">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="972.75" y="386.1748">create()</text><polygon fill="#1E90FF" points="1615.5,447.3828,1625.5,451.3828,1615.5,455.3828,1619.5,451.3828" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="1055" x2="1621.5" y1="451.3828" y2="451.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1297.25" y="446.5264">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1308.25" y="446.5264">add(rotaDTO)</text><polygon fill="#1E90FF" points="720.5,514.7344,710.5,518.7344,720.5,522.7344,716.5,518.7344" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="714.5" x2="1049" y1="518.7344" y2="518.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="835.75" y="513.8779">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="846.75" y="513.8779">listRotasDTO</text><polygon fill="#1E90FF" points="510.5,545.0859,500.5,549.0859,510.5,553.0859,506.5,549.0859" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="504.5" x2="703.5" y1="549.0859" y2="549.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="554.5" y="544.2295">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="572.5" y="544.2295">listRotasDTO</text><polygon fill="#1E90FF" points="92.5,575.4375,82.5,579.4375,92.5,583.4375,88.5,579.4375" style="stroke:#1E90FF;stroke-width:1.0;"/><line style="stroke:#1E90FF;stroke-width:1.0;" x1="86.5" x2="493.5" y1="579.4375" y2="579.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="96" y="574.5811">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="366" x="114" y="574.5811">Mostra as Rotas e informa o utilizador do sucesso da operaçao</text><!--MD5=[abab7c08261b8070cb4b8bddcc774740]
@startuml hello

'-Style- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

autonumber

skinparam DefaultTextAlignment center

skinparam BackgroundColor #fafdff

skinparam sequence {
    LifeLineBorderColor DodgerBlue
    LifeLineBackgroundColor APPLICATION

    ActorBackgroundColor APPLICATION
    ActorBorderColor DodgerBlue

    BackgroundColor #FFFFFF
    ArrowColor DodgerBlue
    BorderColor DodgerBlue

    ParticipantBackgroundColor DodgerBlue
    ParticipantFontColor #FFFFFF
    ParticipantBorderColor DodgerBlue

    GroupBorderColor #082642
    GroupBackgroundColor APPLICATION
}

skinparam note {
    LifeLineBorderColor DodgerBlue
    LifeLineBackgroundColor APPLICATION

    ActorBackgroundColor APPLICATION
    ActorBorderColor DodgerBlue

    BackgroundColor #FFFFFF
    ArrowColor DodgerBlue
    BorderColor DodgerBlue

    ParticipantBackgroundColor DodgerBlue
    ParticipantFontColor #FFFFFF
    ParticipantBorderColor DodgerBlue

    GroupBorderColor #082642
    GroupBackgroundColor APPLICATION
}

'-Title- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

title US30: Como gestor de logística pretendo listar os caminhos por página

'-Actors/Participants- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

actor "<b>Gestor de Logística" as A
participant "<b>:RotaRoute" as RR
participant "<b>:RotaController" as RC
participant "<b>:RotaMapper" as RM
participant "<b>:RotaService" as RS
participant "<b>rotaDTO\n<b>:RotaDTO" as RD
participant "<b>:RotaRepository" as RREP
participant "<b>:RotaSchema" as RSC
participant "<b>listRotasDTO\n<b>:List<RotaDTO>" as LRD


'-Associations- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

activate A

A -> RR: HTTP request (get)
activate RR

RR -> RC: getRotaPagina(req, res, next)
activate RC

RC -> RS : getRotaPagina(pagina)
activate RS
RS -> RREP : listRotas = findByPagina(pagina)
activate RREP
RREP -> RSC : find(query).limit(5).skip(5*(pag-1))
activate RSC
deactivate RSC
deactivate RREP

loop [listRotas]
RS -> RM : rotaDTO = createRotaDTO(rota)
activate RM
RM -> RD : create()
activate RD
deactivate RD
deactivate RM
RS-> LRD : add(rotaDTO)
activate LRD
deactivate LRD

end

RS -> RC : listRotasDTO
deactivate RS
RC -> RR: listRotasDTO
deactivate RC

RR -> A: Mostra as Rotas e informa o utilizador do sucesso da operaçao
deactivate RR
'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

@enduml

@startuml hello


autonumber

skinparam DefaultTextAlignment center

skinparam BackgroundColor #fafdff

skinparam sequence {
    LifeLineBorderColor DodgerBlue
    LifeLineBackgroundColor APPLICATION

    ActorBackgroundColor APPLICATION
    ActorBorderColor DodgerBlue

    BackgroundColor #FFFFFF
    ArrowColor DodgerBlue
    BorderColor DodgerBlue

    ParticipantBackgroundColor DodgerBlue
    ParticipantFontColor #FFFFFF
    ParticipantBorderColor DodgerBlue

    GroupBorderColor #082642
    GroupBackgroundColor APPLICATION
}

skinparam note {
    LifeLineBorderColor DodgerBlue
    LifeLineBackgroundColor APPLICATION

    ActorBackgroundColor APPLICATION
    ActorBorderColor DodgerBlue

    BackgroundColor #FFFFFF
    ArrowColor DodgerBlue
    BorderColor DodgerBlue

    ParticipantBackgroundColor DodgerBlue
    ParticipantFontColor #FFFFFF
    ParticipantBorderColor DodgerBlue

    GroupBorderColor #082642
    GroupBackgroundColor APPLICATION
}


title US30: Como gestor de logística pretendo listar os caminhos por página


actor "<b>Gestor de Logística" as A
participant "<b>:RotaRoute" as RR
participant "<b>:RotaController" as RC
participant "<b>:RotaMapper" as RM
participant "<b>:RotaService" as RS
participant "<b>rotaDTO\n<b>:RotaDTO" as RD
participant "<b>:RotaRepository" as RREP
participant "<b>:RotaSchema" as RSC
participant "<b>listRotasDTO\n<b>:List<RotaDTO>" as LRD



activate A

A -> RR: HTTP request (get)
activate RR

RR -> RC: getRotaPagina(req, res, next)
activate RC

RC -> RS : getRotaPagina(pagina)
activate RS
RS -> RREP : listRotas = findByPagina(pagina)
activate RREP
RREP -> RSC : find(query).limit(5).skip(5*(pag-1))
activate RSC
deactivate RSC
deactivate RREP

loop [listRotas]
RS -> RM : rotaDTO = createRotaDTO(rota)
activate RM
RM -> RD : create()
activate RD
deactivate RD
deactivate RM
RS-> LRD : add(rotaDTO)
activate LRD
deactivate LRD

end

RS -> RC : listRotasDTO
deactivate RS
RC -> RR: listRotasDTO
deactivate RC

RR -> A: Mostra as Rotas e informa o utilizador do sucesso da operaçao
deactivate RR

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>